{{ $preUrl := relURL "/" }}

{{- if eq hugo.Environment "production" -}}
    <script src="{{ $preUrl }}static/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
{{- else -}}
    <script src="{{ $preUrl }}static/vendor/bootstrap/dist/js/bootstrap.bundle.js"></script>
{{- end }}

<script src="{{ $preUrl }}static/vendor/wretch/dist/bundle/wretch.min.js"></script>
<script src="{{ $preUrl }}static/vendor/js-cookie/dist/js.cookie.min.js"></script>

{{ if eq .IsHome false }}
{{ if and (ne .Page.Params.navbar "hide") (ne .Page.Params.onlyMain true) }}
    <script src="{{ $preUrl }}static/vendor/@docsearch/js/dist/umd/index.js"></script>
    <script src="{{ $preUrl }}static/js/doc-search.js"></script>
{{ end }}
{{ end }}

<script src="{{ $preUrl }}static/vendor/localforage/dist/localforage.min.js"></script>
<script src="{{ $preUrl }}static/vendor/workbox-sw/build/workbox-sw.js"></script>
<script src="{{ $preUrl }}static/vendor/lozad/dist/lozad.min.js"></script>
<script src="{{ $preUrl }}static/vendor/qrcode/build/qrcode.js"></script>
<script src="{{ $preUrl }}static/vendor/html2canvas/dist/html2canvas.min.js"></script>
<script src="{{ $preUrl }}static/vendor/dayjs/dayjs.min.js"></script>
<script src="{{ $preUrl }}static/vendor/@glidejs/glide/dist/glide.min.js"></script>
<script src="{{ $preUrl }}static/vendor/timeago.js/dist/timeago.min.js"></script>
<script src="{{ $preUrl }}static/vendor/b-components-js/dist/b.bundle.min.js"></script>

{{ if .Site.Params.DisableDevtool.enable }}
    <script src="{{ $preUrl }}static/vendor/disable-devtool/disable-devtool.min.js"></script>
{{ end }}

{{ if eq .Page.Title "Gallery" "画廊" }}
    <script src="{{ $preUrl }}static/vendor/randomcolor/randomColor.js"></script>
{{ end }}

{{ if .IsHome }}{{ end }}

{{/*<script src="{{ $preUrl }}static/vendor/xgplayer/dist/index.min.js"></script>*/}}
{{/*<script src="{{ $preUrl }}static/vendor/xgplayer/es/lang/zh-cn.js"></script>*/}}
{{/*<script src="{{ $preUrl }}static/vendor/xgplayer/es/lang/en.js"></script>*/}}

{{/*<script src="{{ $preUrl }}static/vendor/danmu.js/browser/index.js"></script>*/}}
{{/*<script src="{{ $preUrl }}static/vendor/danmu.js/dist/index.js"></script>*/}}

{{- $color_modesJs := partial "functions/script/build" (dict "resourcesGet" "static/js/color-modes.js" "targetPath" "static/js/color-modes.js") }}
<script src="{{ $color_modesJs }}"></script>

{{- $palette_modesJs := partial "functions/script/build" (dict "resourcesGet" "static/js/palette-modes.js" "targetPath" "static/js/palette-modes.js") }}
<script src="{{ $palette_modesJs }}"></script>

{{- $font_sizeJs := partial "functions/script/build" (dict "resourcesGet" "static/js/font-size.js" "targetPath" "static/js/font-size.js") }}
<script src="{{ $font_sizeJs }}"></script>

{{- $commonJs := partial "functions/concat" (dict "concatPath" "static/js/common/**.js" "targetPath" "static/js/common.bundle.js") }}
<script src="{{ $commonJs }}"></script>

{{- $accountJs := partial "functions/concat" (dict "concatPath" "static/js/account/**.js" "targetPath" "static/js/account.bundle.js") }}
<script src="{{ $accountJs }}"></script>

{{- $postJs := partial "functions/script/build" (dict "resourcesGet" "static/js/post.js" "targetPath" "static/js/post.js") }}
<script src="{{ $postJs }}"></script>

{{- $bulletinJs := partial "functions/script/build" (dict "resourcesGet" "static/js/bulletin.js" "targetPath" "static/js/bulletin.js") }}
<script src="{{ $bulletinJs }}"></script>

{{- if eq .Page.Layout "jump_link" -}}
    {{- $jump_linkJs := partial "functions/script/build" (dict "resourcesGet" "static/js/jump_link.js" "targetPath" "static/js/jump_link.js") }}
    <script src="{{ $jump_linkJs }}"></script>
{{- end -}}

{{ if in .Page.Params.components "datatables" }}
    <script src="{{ $preUrl }}static/vendor/simple-datatables/dist/umd/simple-datatables.js"></script>
    <script src="{{ $preUrl }}static/js/sDataTables.js"></script>
{{ end }}

{{ if in .Page.Params.components "uppy" }}
    <script src="{{ $preUrl }}static/vendor/uppy/dist/uppy.min.js"></script>
    <script src="{{ $preUrl }}static/vendor/@uppy/locales/dist/zh_CN.min.js"></script>
    <script src="{{ $preUrl }}static/js/uppy.js"></script>
{{ end }}


{{ if eq .Page.Params.type "edit" -}}
    <script src="{{ $preUrl }}static/vendor/github-api/dist/GitHub.bundle.min.js"></script>
    <script src="{{ $preUrl }}static/vendor/vditor/dist/index.min.js"></script>
    <script src="{{ $preUrl }}static/js/edit.js"></script>
{{ end -}}

{{ if eq .Page.Params.type "contact" -}}
    {{- $contactJs := partial "functions/script/build" (dict "resourcesGet" "static/js/contact.js" "targetPath" "static/js/contact.js") }}
    <script src="{{ $contactJs }}"></script>
{{ end -}}

{{ if eq .Page.Params.type "shop" -}}
    {{- $shopJs := partial "functions/script/build" (dict "resourcesGet" "static/js/shop/index.js" "targetPath" "static/js/shop/index.js") }}
    <script src="{{ $shopJs }}"></script>
{{ end -}}


{{ if eq .Page.Params.type "shop/list" -}}
    {{- $shop_listJs := partial "functions/script/build" (dict "resourcesGet" "static/js/shop/list.js" "targetPath" "static/js/shop/list.js") }}
    <script src="{{ $shop_listJs }}"></script>
{{ end -}}

{{ if eq .Page.Params.type "shop/add" -}}
    {{- $shop_addJs := partial "functions/script/build" (dict "resourcesGet" "static/js/shop/add.js" "targetPath" "static/js/shop/add.js") }}
    <script src="{{ $shop_addJs }}"></script>
{{ end -}}

{{ if eq .Page.Params.type "shop/info" -}}
    {{- $shop_infoJs := partial "functions/script/build" (dict "resourcesGet" "static/js/shop/info.js" "targetPath" "static/js/shop/info.js") }}
    <script src="{{ $shop_infoJs }}"></script>
{{ end -}}

{{- if eq .Page.Layout "full_page" -}}
    <script src="{{ $preUrl }}static/vendor/randomcolor/randomColor.js"></script>
    <script src="{{ $preUrl }}static/js/full_page.js"></script>
{{- end -}}

{{ if eq .Page.Params.type "zhgh/log" }}
    <script src="{{ $preUrl }}static/js/zhgh/common.js"></script>
    <script src="{{ $preUrl }}static/js/zhgh/log.js"></script>
{{ end }}

{{ if eq .Page.Params.type "zhgh/data" }}
    <script src="{{ $preUrl }}static/js/zhgh/common.js"></script>
    <script src="{{ $preUrl }}static/js/zhgh/data.js"></script>
{{ end }}

{{ if eq .Page.Params.type "zhgh/passwork" }}
    <script src="{{ $preUrl }}static/js/zhgh/common.js"></script>
    <script src="{{ $preUrl }}static/js/zhgh/passwork.js"></script>
{{ end }}

{{ if eq .Page.Params.type "zhgh/study" }}
    <script src="{{ $preUrl }}static/js/zhgh/common.js"></script>
    <script src="{{ $preUrl }}static/js/zhgh/study.js"></script>
{{ end }}

{{ if eq .Page.Params.type "zhgh/login" }}
    <script src="{{ $preUrl }}static/js/zhgh/common.js"></script>
    <script src="{{ $preUrl }}static/js/zhgh/login.js"></script>
{{ end }}

{{ if eq .Page.Params.type "zhgh/member" }}
    <script src="{{ $preUrl }}static/js/zhgh/common.js"></script>
    <script src="{{ $preUrl }}static/js/zhgh/member.js"></script>
{{ end }}
